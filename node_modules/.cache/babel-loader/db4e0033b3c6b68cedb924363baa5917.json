{"ast":null,"code":"import _objectSpread from\"/Users/vikramkhandelwal/minds_website/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/vikramkhandelwal/minds_website/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{useSprings}from\"react-spring\";import{useGesture}from\"react-with-gesture\";import{visionCard}from\"../visionCard\";import\"./Deck.css\";import{jsx as _jsx}from\"react/jsx-runtime\";var cards=[1,2,3];var objs=[{text:\"To cultivate a collaborative community of driven scholars\"},{text:\"To foster industry level education\"},{text:\"To encourage real-world application and evaluation\"}];var to=function to(i){return{x:0,y:i*-10,scale:1,rot:-10+Math.random()*20,delay:i*100};};var from=function from(i){return{rot:0,scale:1.5,y:-1000};};var trans=function trans(r,s){return\"perspective(100000px) rotateX(0deg) rotateY(\".concat(0,\"deg) rotateZ(\",r,\"deg) scale(\").concat(s,\")\");};function SwipeAuto(){}function VisionDeck(){var _useState=useState(function(){return new Set();}),_useState2=_slicedToArray(_useState,1),gone=_useState2[0];var _useSprings=useSprings(cards.length,function(i){return _objectSpread(_objectSpread({},to(i)),{},{from:from(i)});}),_useSprings2=_slicedToArray(_useSprings,2),props=_useSprings2[0],set=_useSprings2[1];var SwipeAuto=function SwipeAuto(argus){var _argus$args=_slicedToArray(argus.args,1),index=_argus$args[0],down=argus.down,_argus$delta=_slicedToArray(argus.delta,1),xDelta=_argus$delta[0],distance=argus.distance,_argus$direction=_slicedToArray(argus.direction,1),xDir=_argus$direction[0],velocity=argus.velocity;var trigger=velocity>0.2;var dir=xDir<0?-1:1;if(!down&&trigger)gone.add(index);set(function(i){if(index!==i)return;var isGone=gone.has(index);var x=isGone?(200+window.innerWidth)*dir:down?xDelta:0;var rot=xDelta/100+(isGone?dir*10*velocity:0);var scale=down?1.1:1;return{x:x,rot:rot,scale:scale,delay:undefined,config:{friction:50,tension:down?800:isGone?200:500}};});if(!down&&gone.size===cards.length)setTimeout(function(){return gone.clear()||set(function(i){return to(i);});},600);};useEffect(function(){var interval=setInterval(function(){var argus={args:[cards.length-gone.size-1],down:0,delta:[10],distance:3,direction:[0.5-gone.size%2],velocity:0.5};SwipeAuto(argus);},6000);return function(){return clearInterval(interval);};},[]);var bind=useGesture(function(_ref){var _ref$args=_slicedToArray(_ref.args,1),index=_ref$args[0],down=_ref.down,_ref$delta=_slicedToArray(_ref.delta,1),xDelta=_ref$delta[0],distance=_ref.distance,_ref$direction=_slicedToArray(_ref.direction,1),xDir=_ref$direction[0],velocity=_ref.velocity;var trigger=velocity>0.2;var dir=2*(0.5-index%2);set(function(i){if(index!==i)return;var isGone=gone.has(index);var x=isGone?(200+window.innerWidth)*dir:0;var rot=xDelta/100+(isGone?dir*10*velocity:0);var scale=down?1.1:1;return{x:x,rot:rot,scale:scale,delay:undefined,config:{friction:50,tension:down?800:isGone?200:500}};});if(!down&&gone.size===cards.length)setTimeout(function(){return gone.clear()||set(function(i){return to(i);});},600);});return props.map(function(_ref2,i){var x=_ref2.x,y=_ref2.y,rot=_ref2.rot,scale=_ref2.scale;return/*#__PURE__*/_jsx(\"visionCard\",{i:i,x:x,y:y,rot:rot,scale:scale,trans:trans,cards:cards,objs:objs,bind:bind,class:\"visionCard\"});});}export default VisionDeck;","map":{"version":3,"sources":["/Users/vikramkhandelwal/minds_website/src/components/VisionDeck/index.js"],"names":["React","useState","useEffect","useSprings","useGesture","visionCard","cards","objs","text","to","i","x","y","scale","rot","Math","random","delay","from","trans","r","s","SwipeAuto","VisionDeck","Set","gone","length","props","set","argus","args","index","down","delta","xDelta","distance","direction","xDir","velocity","trigger","dir","add","isGone","has","window","innerWidth","undefined","config","friction","tension","size","setTimeout","clear","interval","setInterval","clearInterval","bind","map"],"mappings":"+OAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,UAAT,KAA2B,cAA3B,CACA,OAASC,UAAT,KAA2B,oBAA3B,CACA,OAASC,UAAT,KAA2B,eAA3B,CAEA,MAAO,YAAP,C,2CAEA,GAAMC,CAAAA,KAAK,CAAG,CAAC,CAAD,CAAI,CAAJ,CAAO,CAAP,CAAd,CAEA,GAAMC,CAAAA,IAAI,CAAG,CACX,CACEC,IAAI,CAAE,2DADR,CADW,CAIX,CACEA,IAAI,CACF,oCAFJ,CAJW,CAQX,CACEA,IAAI,CAAE,oDADR,CARW,CAAb,CAaA,GAAMC,CAAAA,EAAE,CAAG,QAALA,CAAAA,EAAK,CAAAC,CAAC,QAAK,CACfC,CAAC,CAAE,CADY,CAEfC,CAAC,CAAEF,CAAC,CAAG,CAAC,EAFO,CAGfG,KAAK,CAAE,CAHQ,CAIfC,GAAG,CAAE,CAAC,EAAD,CAAMC,IAAI,CAACC,MAAL,GAAgB,EAJZ,CAKfC,KAAK,CAAEP,CAAC,CAAG,GALI,CAAL,EAAZ,CAOA,GAAMQ,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,CAAAR,CAAC,QAAK,CAAEI,GAAG,CAAE,CAAP,CAAUD,KAAK,CAAE,GAAjB,CAAsBD,CAAC,CAAE,CAAC,IAA1B,CAAL,EAAd,CAEA,GAAMO,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAACC,CAAD,CAAIC,CAAJ,8DACmC,CADnC,iBAEMD,CAFN,uBAEqBC,CAFrB,OAAd,CAIA,QAASC,CAAAA,SAAT,EAAqB,CAEpB,CAED,QAASC,CAAAA,UAAT,EAAsB,CACpB,cAAetB,QAAQ,CAAC,iBAAM,IAAIuB,CAAAA,GAAJ,EAAN,EAAD,CAAvB,wCAAOC,IAAP,eAEA,gBAAqBtB,UAAU,CAACG,KAAK,CAACoB,MAAP,CAAe,SAAAhB,CAAC,wCAC1CD,EAAE,CAACC,CAAD,CADwC,MAE7CQ,IAAI,CAAEA,IAAI,CAACR,CAAD,CAFmC,IAAhB,CAA/B,4CAAOiB,KAAP,iBAAcC,GAAd,iBAKA,GAAMN,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACO,KAAD,CAAW,CAC3B,+BAOIA,KAPJ,CACEC,IADF,IACSC,KADT,gBAEEC,IAFF,CAOIH,KAPJ,CAEEG,IAFF,6BAOIH,KAPJ,CAGEI,KAHF,IAGUC,MAHV,iBAIEC,QAJF,CAOIN,KAPJ,CAIEM,QAJF,iCAOIN,KAPJ,CAKEO,SALF,IAKcC,IALd,qBAMEC,QANF,CAOIT,KAPJ,CAMES,QANF,CASA,GAAMC,CAAAA,OAAO,CAAGD,QAAQ,CAAG,GAA3B,CAEA,GAAME,CAAAA,GAAG,CAAGH,IAAI,CAAG,CAAP,CAAW,CAAC,CAAZ,CAAgB,CAA5B,CAEA,GAAI,CAACL,IAAD,EAASO,OAAb,CAAsBd,IAAI,CAACgB,GAAL,CAASV,KAAT,EAEtBH,GAAG,CAAC,SAAAlB,CAAC,CAAI,CACP,GAAIqB,KAAK,GAAKrB,CAAd,CAAiB,OACjB,GAAMgC,CAAAA,MAAM,CAAGjB,IAAI,CAACkB,GAAL,CAASZ,KAAT,CAAf,CAEA,GAAMpB,CAAAA,CAAC,CAAG+B,MAAM,CAAG,CAAC,IAAME,MAAM,CAACC,UAAd,EAA4BL,GAA/B,CAAqCR,IAAI,CAAGE,MAAH,CAAY,CAArE,CAEA,GAAMpB,CAAAA,GAAG,CAAGoB,MAAM,CAAG,GAAT,EAAgBQ,MAAM,CAAGF,GAAG,CAAG,EAAN,CAAWF,QAAd,CAAyB,CAA/C,CAAZ,CAEA,GAAMzB,CAAAA,KAAK,CAAGmB,IAAI,CAAG,GAAH,CAAS,CAA3B,CACA,MAAO,CACLrB,CAAC,CAADA,CADK,CAELG,GAAG,CAAHA,GAFK,CAGLD,KAAK,CAALA,KAHK,CAILI,KAAK,CAAE6B,SAJF,CAKLC,MAAM,CAAE,CAAEC,QAAQ,CAAE,EAAZ,CAAgBC,OAAO,CAAEjB,IAAI,CAAG,GAAH,CAASU,MAAM,CAAG,GAAH,CAAS,GAArD,CALH,CAAP,CAOD,CAhBE,CAAH,CAkBA,GAAI,CAACV,IAAD,EAASP,IAAI,CAACyB,IAAL,GAAc5C,KAAK,CAACoB,MAAjC,CACEyB,UAAU,CAAC,iBAAM1B,CAAAA,IAAI,CAAC2B,KAAL,IAAgBxB,GAAG,CAAC,SAAAlB,CAAC,QAAID,CAAAA,EAAE,CAACC,CAAD,CAAN,EAAF,CAAzB,EAAD,CAAwC,GAAxC,CAAV,CACH,CApCD,CAuCAR,SAAS,CAAC,UAAM,CAEd,GAAMmD,CAAAA,QAAQ,CAAGC,WAAW,CAAC,UAAM,CACjC,GAAMzB,CAAAA,KAAK,CAAG,CACZC,IAAI,CAAE,CAACxB,KAAK,CAACoB,MAAN,CAAeD,IAAI,CAACyB,IAApB,CAAyB,CAA1B,CADM,CAEZlB,IAAI,CAAE,CAFM,CAGZC,KAAK,CAAE,CAAC,EAAD,CAHK,CAIZE,QAAQ,CAAE,CAJE,CAKZC,SAAS,CAAE,CAAC,IAAIX,IAAI,CAACyB,IAAL,CAAU,CAAf,CALC,CAMZZ,QAAQ,CAAE,GANE,CAAd,CAQAhB,SAAS,CAACO,KAAD,CAAT,CACD,CAV2B,CAUzB,IAVyB,CAA5B,CAWA,MAAO,kBAAM0B,CAAAA,aAAa,CAACF,QAAD,CAAnB,EAAP,CACD,CAdQ,CAcN,EAdM,CAAT,CAgBA,GAAMG,CAAAA,IAAI,CAAGpD,UAAU,CACrB,cAOM,mCANJ0B,IAMI,IANGC,KAMH,cALJC,IAKI,MALJA,IAKI,gCAJJC,KAII,IAJIC,MAIJ,eAHJC,QAGI,MAHJA,QAGI,oCAFJC,SAEI,IAFQC,IAER,mBADJC,QACI,MADJA,QACI,CACJ,GAAMC,CAAAA,OAAO,CAAGD,QAAQ,CAAG,GAA3B,CAEA,GAAME,CAAAA,GAAG,CAAG,GAAG,IAAIT,KAAK,CAAC,CAAb,CAAZ,CAEAH,GAAG,CAAC,SAAAlB,CAAC,CAAI,CACP,GAAIqB,KAAK,GAAKrB,CAAd,CAAiB,OACjB,GAAMgC,CAAAA,MAAM,CAAGjB,IAAI,CAACkB,GAAL,CAASZ,KAAT,CAAf,CAEA,GAAMpB,CAAAA,CAAC,CAAG+B,MAAM,CAAG,CAAC,IAAME,MAAM,CAACC,UAAd,EAA4BL,GAA/B,CAAqC,CAArD,CAEA,GAAM1B,CAAAA,GAAG,CAAGoB,MAAM,CAAG,GAAT,EAAgBQ,MAAM,CAAGF,GAAG,CAAG,EAAN,CAAWF,QAAd,CAAyB,CAA/C,CAAZ,CAEA,GAAMzB,CAAAA,KAAK,CAAGmB,IAAI,CAAG,GAAH,CAAS,CAA3B,CACA,MAAO,CACLrB,CAAC,CAADA,CADK,CAELG,GAAG,CAAHA,GAFK,CAGLD,KAAK,CAALA,KAHK,CAILI,KAAK,CAAE6B,SAJF,CAKLC,MAAM,CAAE,CAAEC,QAAQ,CAAE,EAAZ,CAAgBC,OAAO,CAAEjB,IAAI,CAAG,GAAH,CAASU,MAAM,CAAG,GAAH,CAAS,GAArD,CALH,CAAP,CAOD,CAhBE,CAAH,CAkBA,GAAI,CAACV,IAAD,EAASP,IAAI,CAACyB,IAAL,GAAc5C,KAAK,CAACoB,MAAjC,CACEyB,UAAU,CAAC,iBAAM1B,CAAAA,IAAI,CAAC2B,KAAL,IAAgBxB,GAAG,CAAC,SAAAlB,CAAC,QAAID,CAAAA,EAAE,CAACC,CAAD,CAAN,EAAF,CAAzB,EAAD,CAAwC,GAAxC,CAAV,CACH,CAjCoB,CAAvB,CAoCA,MAAOiB,CAAAA,KAAK,CAAC8B,GAAN,CAAU,eAAuB/C,CAAvB,KAAGC,CAAAA,CAAH,OAAGA,CAAH,CAAMC,CAAN,OAAMA,CAAN,CAASE,GAAT,OAASA,GAAT,CAAcD,KAAd,OAAcA,KAAd,oBACf,mBACE,CAAC,CAAEH,CADL,CAEE,CAAC,CAAEC,CAFL,CAGE,CAAC,CAAEC,CAHL,CAIE,GAAG,CAAEE,GAJP,CAKE,KAAK,CAAED,KALT,CAME,KAAK,CAAEM,KANT,CAOE,KAAK,CAAEb,KAPT,CAQE,IAAI,CAAEC,IARR,CASE,IAAI,CAAEiD,IATR,CAUE,KAAK,CAAG,YAVV,EADe,EAAV,CAAP,CAcD,CAED,cAAejC,CAAAA,UAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useSprings } from \"react-spring\";\nimport { useGesture } from \"react-with-gesture\";\nimport { visionCard } from \"../visionCard\";\n\nimport \"./Deck.css\";\n\nconst cards = [1, 2, 3];\n\nconst objs = [\n  {\n    text: \"To cultivate a collaborative community of driven scholars\"\n  },\n  {\n    text:\n      \"To foster industry level education\"\n  },\n  {\n    text: \"To encourage real-world application and evaluation\"\n  }\n];\n\nconst to = i => ({\n  x: 0,\n  y: i * -10,\n  scale: 1,\n  rot: -10 + Math.random() * 20,\n  delay: i * 100\n});\nconst from = i => ({ rot: 0, scale: 1.5, y: -1000 });\n\nconst trans = (r, s) =>\n  `perspective(100000px) rotateX(0deg) rotateY(${0\n    }deg) rotateZ(${r}deg) scale(${s})`;\n\nfunction SwipeAuto() {\n  \n}\n\nfunction VisionDeck() {\n  const [gone] = useState(() => new Set());\n\n  const [props, set] = useSprings(cards.length, i => ({\n    ...to(i),\n    from: from(i)\n  }));\n\n  const SwipeAuto = (argus) => {\n    const {\n      args: [index],\n      down,\n      delta: [xDelta],\n      distance,\n      direction: [xDir],\n      velocity\n    } = argus;\n\n    const trigger = velocity > 0.2;\n\n    const dir = xDir < 0 ? -1 : 1;\n\n    if (!down && trigger) gone.add(index);\n\n    set(i => {\n      if (index !== i) return;\n      const isGone = gone.has(index);\n\n      const x = isGone ? (200 + window.innerWidth) * dir : down ? xDelta : 0;\n\n      const rot = xDelta / 100 + (isGone ? dir * 10 * velocity : 0);\n\n      const scale = down ? 1.1 : 1;\n      return {\n        x,\n        rot,\n        scale,\n        delay: undefined,\n        config: { friction: 50, tension: down ? 800 : isGone ? 200 : 500 }\n      };\n    });\n\n    if (!down && gone.size === cards.length)\n      setTimeout(() => gone.clear() || set(i => to(i)), 600);\n  }\n  \n\n  useEffect(() => {\n    \n    const interval = setInterval(() => {\n      const argus = {\n        args: [cards.length - gone.size-1],\n        down: 0,\n        delta: [10],\n        distance: 3,\n        direction: [0.5-gone.size%2],\n        velocity: 0.5\n      };\n      SwipeAuto(argus);\n    }, 6000);\n    return () => clearInterval(interval);\n  }, []);\n\n  const bind = useGesture(\n    ({\n      args: [index],\n      down,\n      delta: [xDelta],\n      distance,\n      direction: [xDir],\n      velocity\n    }) => {\n      const trigger = velocity > 0.2;\n\n      const dir = 2*(0.5-index%2)\n\n      set(i => {\n        if (index !== i) return;\n        const isGone = gone.has(index);\n\n        const x = isGone ? (200 + window.innerWidth) * dir : 0;\n\n        const rot = xDelta / 100 + (isGone ? dir * 10 * velocity : 0);\n\n        const scale = down ? 1.1 : 1;\n        return {\n          x,\n          rot,\n          scale,\n          delay: undefined,\n          config: { friction: 50, tension: down ? 800 : isGone ? 200 : 500 }\n        };\n      });\n\n      if (!down && gone.size === cards.length)\n        setTimeout(() => gone.clear() || set(i => to(i)), 600);\n    }\n  );\n\n  return props.map(({ x, y, rot, scale }, i) => (\n    <visionCard\n      i={i}\n      x={x}\n      y={y}\n      rot={rot}\n      scale={scale}\n      trans={trans}\n      cards={cards}\n      objs={objs}\n      bind={bind}\n      class = \"visionCard\"\n    />\n  ));\n}\n\nexport default VisionDeck;\n"]},"metadata":{},"sourceType":"module"}